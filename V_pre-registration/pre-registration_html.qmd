---
title: "Values from Lyrics: Pre-Registration"
bibliography: references.bib
author: "Andrew M. Demetriou"
format: 
   html:
    toc: true
crossref:
  fig-title: '**Figure**'
  fig-labels: arabic
  title-delim: "**.**"
execute: 
  echo: false
  warning: false
editor: visual
---

## Study Information

Contributors: Andrew M. Demetriou, Jaehun Kim, Sandy Manolios, Cynthia C.S. Liem

### Overview

We aim to extend work that used natural language processing (NLP) to estimate psychological values (e.g. [@schwartz2001extending]) in social-media text [@ponizovskiy2020development]. Our aim is to explore the potential to estimate the perceived psychological values in song lyrics.

We will gather ratings of song lyrics from participants using an online survey. Participants will respond to a psychometric instrument that we have adapted for this purpose. We will then use NLP models to estimate scores for each of the personal values. Lastly, we will examine how well the scores from the NLP resemble human ratings.

As in [@ponizovskiy2020development], we estimate convergent validity of the grouped NLP models by estimating correlations with related constructs measured using the Linguistic Inquiry Word Count ([LIWC](https://liwc.app)) dictionary (see [@boyd2022development] for psychometric details).

### Contributions

We extend existing work primarily in two ways: Firstly, we compare semantic distance (the degree to which words are related) measured using NLP models to the results of word counting. Prior studies have counted the number of times specific words from a fixed lexicon were used in a given body of text as a means of measuring psychological constructs: [@ponizovskiy2020development] validated such a lexicon of words for measuring a set of 10 personal values in social-media text. However, song lyrics may not contain those exact words, and may instead use synonymous or otherwise meaningfully similar words, or even slang and metaphors. Our method allows for more word coverage: rather than count words from a fixed lexicon, we will estimate the semantic distance between the words in the lexicon that represent each personal value, and the song lyrics in order to derive a score for each value.

Secondly, we linearly combine the output of multiple NLP models into a single latent variable, to represent the shared variance of the machine ratings: as each NLP model is developed using 1) an algorithm trained on 2) a corpus, each algorithm/corpus combination will estimate the semantic distance between two words differently. This loosely parallels how human participants may rate each set of lyrics differently. [@beaty2021automating] showed that this latent variable of semantic distance estimations resulted in overlap with a latent variable of human ratings as high as r = .9, albeit in a different domain. This approach further allows us to estimate the contribution of each algorithm / corpus setup to the shared variance.

We further contribute two assets: firstly, we provide containerized, API-reachable interface to the models that we used to estimate semantic similarity, housed on [Replicate.com](https://replicate.com/eldrin/text-concept-similarity). Secondly, we share the beginnings of a psychometric scale for assessing lyric preference intensity and expertise (@sec-lyricquestions).

### Hypotheses

As this is an initial study aimed at examining the feasibility of our method, our hypotheses are not severe:

**Primary Hypothesis**: Grouped NLP models show a statistically significant correlation with grouped **a)** participant ratings across all 10 personal values, and **b)** with related LIWC constructs - in the same or greater magnitude as shown in [@ponizovskiy2020development].

**Null Hypothesis**: Grouped NLP models show no evidence of a correlation with participant ratings across all 10 personal values.

## Design Plan

### Survey Implementation:

Our primary measure is the presence of personal values in song lyrics. Song lyrics may be written from the perspective of the author, but also from the perspective of someone or something else - sometimes referred to as the 'speaker'. As we are measuring the presence of values as suggested in the lyrics themselves, we explicitly ask participants to respond with the perspective of the speaker in mind, and not the author.

The main survey will be implemented a version of the [formR.org](https://formR.org) hosted on the servers of [Delft University of Technology](https://www.tudelft.nl/) to ensure GDPR compliance. The `.csv` survey files used as input to formR were constructed in R. The main component of the survey involves showing participants the lyrics to a number of songs, one at a time. For each song they are asked to respond to set of questions designed to assess the presence of values in the lyrics.

We experienced issues testing our surveys when the number of lyric stimuli in the survey was greater than 60. Thus, our stimulus set will be separated into otherwise identical survey files on the formR server, with no more than 60 lyrics in each survey file. Participants will be randomly assigned to one of the surveys, which will in turn randomly select a subset of stimuli to have rated by participants.

The majority of items require a Likert-type response. In order to gather a more continuous measure, we used a sort of slider with no obvious starting point: the `rating button` option in formR shows a horizontal gray bar with two labeled poles (e.g. agree - disagree).

![](screenshots/formR.png)

Participants can then be instructed to indicate on the bar the degree to which they agree or disagree, as they might with a slider. However, the gray bar has no visible slider, thus no starting value. The gray bar shows no divisions on it and appears continuous, although it contains 20 subdivisions.

### Survey Meausures:

#### Personal Values:

Prior research (e.g. [@schwartz2001extending]) has shown evidence for the presence of personal values as guiding principles in the lives of people. Participants will indicate the degree to which they think 10 values are present for each set of lyrics that they are shown. We chose to use the Short Schwarz's Value Survey [@lindeman2005measuring] as it is the briefest instrument whose reliability and validity has been shown to be adequate, to our knowledge. The original instrument displays a brief definition of each of the ten values in the Schwartz inventory, (e.g. "POWER (social power, authority, wealth)") and asks participants to indicate on a Likert scale (0= Opposed to my principles, 8 = Of supreme importance) the degree of importance of the value to them. In our version, participants will indicate on a solid gray bar as described above. As our participants will be rating a stimulus that is not themselves, we adjusted the wording slightly: e.g. "Please, rate the importance of the following values as a life-guiding principle for the SPEAKER of the lyrics."

#### Lyric Preferences:

To assess whether expertise in lyrics or a preference for lyrical content has an effect on the ratings given, we have begun developing a scale, partially inspired by the Preference Intensity scale in [@schafer2009functions]. Our original ad-hoc scale consisted of 10 Likert-type items. Participants in @sec-pilot2 were asked to respond to the 10 items, and to an additional 'open response' format item that asked: "Can you think of any other activities or indications that someone has an affinity for song lyrics? If so, please enter them here:". We removed poorly performing items, and added additional 5 items based on participant responses to the open format question. We will continue examining the usefulness of items using factor analysis and item response theory techniques, and adding items .

#### Study Type:

Observational study - Data is collected from study participants that are not randomly assigned to a treatment.

#### Blinding:

No blinding is involved in this study

# Appendix {.appendix}

## a) number of ratings per stimulus

We conducted two pilot studies to estimate the number of ratings needed for each song lyric.

### Pilot 1 {#sec-pilot1}

Our first pilot study aimed to gather an tentative estimate of the time it would take participants to complete components of the survey using a small convenience sample. We recruited participants first on [reddit.com](https://www.reddit.com/r/SampleSize) and then from within the lab of the research team. Participants were shown four lyric stimuli and asked to complete our adapted personal values questionnaire for each song lyric. we used the Qualtrics platform to create and host the survey ([qualtrics.com](https://www.qualtrics.com)).

```{r}
#| label: tbl-1
#| tbl-cap: "Time in minutes to complete task."

# file logistics
library(here)
path <- here("I_time_pilot", "intermediary_data")
time_pilot_summary <- readRDS(here(path, "time_pilot_summary.RDS"))

# plot table
library(kableExtra)
time_pilot_summary[1:2, ] |>
  kable() |>
  kable_styling() |>
  footnote(
    general = "Time in minutes determined by subtracting time at the first click in a block of questions from the last click, and dividing by 60.", 
    threeparttable = TRUE,
    footnote_as_chunk = TRUE
  )

library(tidyverse)
mean_time_per_song <- time_pilot_summary[1, ] |> 
  select(starts_with("song"))|>
  rowMeans() |>
  round(digits = 2)

sd_time_per_song <- time_pilot_summary[2, ] |> 
  select(starts_with("song"))|>
  rowMeans() |>
  round(digits = 2)
```

On average participants took `r mean_time_per_song` minutes per song. However, @tbl-1 shows that the time to complete the items per song decreased as participants progressed through the questionnaires. Thus we estimated that questions for 20 stimuli could be completed in approximately 30 minutes.

### Pilot 2 {#sec-pilot2}

Following our first pilot (@sec-pilot1), we aimed to estimate the smallest number of ratings necessary to achieve a satisfactory inter-rater reliability using the procedure described in @debruine2018determining. We gathered responses from 500 participants on 20 lyric stimuli. We then randomly subsampled different numbers of raters and estimated

We recruited a representative sample of the United States on the [Prolific.co](https://www.prolific.co) participant recruitment platform.

## b) hypothesized magnitudes

-   LIWC
    -   liwc insight with self-direction, .43
    -   liwc sexuality with hedonism, .13
    -   liwc achievement with achievement .47
    -   liwc power with power, .19
    -   liwc power with conformity, .16
    -   liwc risk with security, .32
    -   liwc religion with traditionalism, .79
    -   liwc family with benevolence, .57

## c) lyric preference and expertise questionnaire {#sec-lyricquestions}

1.  I prefer music that contains lyrics, as opposed to music that does not
2.  I only pay attention to the lyrics of songs or artists that I like
3.  I always pay attention to the lyrics of a song, if the song has them
4.  I enjoy learning about song lyrics and their meaning, for example by reading blogs and forums or listening to artist interviews
5.  If a song has lyrics that I don't like for any reason, I don't listen to it
6.  If I am not sure about the lyrics of a song, I look them up
7.  I contribute to online resources on lyrics (e.g. on forums, or on platforms where I can contribute lyric transcriptions)
8.  I memorize the lyrics to the songs I listen to
9.  I write my own song lyrics
10. I post excerpts of song lyrics online, e.g. on social media
11. I discuss song lyrics with my friends
12. I come up with alternate versions of song lyrics that I find entertaining, i.e. song parodies
13. I ponder the meaning of lyrics
14. I quote lyrics in conversation
15. I read and/or write poetry
16. What percentage of your music library do you think contains songs with lyrics?
